---
title: 随记-2
date: 2020-07-05 15:18:57
tags:
- Javscript
- 面试
excerpt: JS的一些逻辑输出题
---

# 面试中的一道题

```js
var a = b = 1;
var c = 0 || 1 && 2 ||3;
a = a+++b---c*a;
console.log(a);
var d = a + typeof a =='number'?'px':NaN;
console.log(d)
```

面试时写的答案, 2 2px;      (不愧是我,全错)

正确答案: -2 , NaN

解析:

a+++b-\-\-c*a默认转换成(a++)+(b-\-)-c\*a,**括号内, a++和++a没有区别**.

出现了两次a.都是用a++之后的a值.

所以: a = (1+1) + (1-1)-2*2=-2

d,应该看成整体(a + typeof a ) =='number'? , 而不是 a + (typeof a =='number'?'px':NaN)

所以, -2+typeof a  --> '-2number' != number , 所以d为NaN

```js
//对比
let num = 0;
console.log(num++)  //0
console.log(++num)  //2
console.log(num)    //2
```



# 掘金上的逻辑题

```js
//1
(() => {
 let x, y;
 try {
  throw new Error();
 } catch (x) {
  (x = 1), (y = 2);
  console.log(x);
 }
 console.log(x);
 console.log(y);
})();     //1,undefined,2
//catch作用域内有自己的x,所以在catch之外打印x,仍然是undefined.
//y是catch里面修改的,自己找不到旧往外找

//2
function Person(firstName, lastName) {
  this.firstName = firstName
  this.lastName = lastName
}
const lydia = new Person('Lydia', 'Hallie')
const sarah = Person('Sarah', 'Smith')  //相当于window.firstName = 'Sarah';window.lastName='Smith'; this指向了window
console.log(lydia)     
console.log(sarah)     //sarah是undefined.因为函数并没返回值.而调用new,会返回一个对象

//3
//实例化后再往构造函数上添加方法,实例是获取不到这个方法的.
//要将该方法添加到构造函数的prototype上才能获取到该新方法

//4 不是所有对象都有原型, 基本对象没有.(?)

//5
function getAge(...arg){
    console.log(typeof arg);
    console.log(arg)
}
getAge(21)
//object,[21]
//使用spread运算符(?还是rest?偏向rest),就将arg封装成一个数组(?有点迷惑)

//6
const getList = ([x, ...y]) => [x, y]
const getUser = user => { name: user.name, age: user.age }
const list = [1, 2, 3, 4]
const user = { name: "Lydia", age: 21 }
console.log(getList(list))
console.log(getUser(user))
//坑1:[x,...y]<==>[1,2,3,4], 对应得到:[1,[2,3,4]], ...y将234又封装成数组.
//坑2: user=>{name:user.name,age:user.age}
//相当于 function(user){
//    name:user.name,
//    age:user.age       //没有返回值!没有返回值!
//}
//需要返回对象,则user=>({name:user.name,age:user.age})

//7
const person = {
  name: "Lydia",
  age: 21
}
for (const [x, y] of Object.entries(person)) {
  console.log(x, y)
}
//entries返回[[name,Lydia],[age,21]]
//[x,y]解构,name Lydia 和 age 21

//8.箭头函数没有prototype
//9.小坑
console.log("I want pizza"[0])     //I
//将字符串看成数组就可以用下标的方式访问对应字符,"I want pizza" ==> Array(12)
```

以上:https://juejin.im/post/5efb4ca5f265da23016c5c80

---

```js
//1
if(false){
    var a = 1;
    let b = 2;
}                //就算没有执行它也会提升(evaluate).b报错是作用域问题
console.log(a);  //undefined
console.log(b);  //Reference error,b is not defined.

//2
var a = {n: 1}
var b = a
a.x = a = {n: 2}
//此时的a.x还是等于b.x,所以相当于b.x = {n:2},之后a才指向了新的空间(???)
//.运算符比=高
console.log(a.n, b.n);
console.log(a.x, b.x);
//2,1
//undefined,{n:2}
```

