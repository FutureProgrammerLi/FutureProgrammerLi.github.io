---
title: 深入理解es6-4
date: 2019-12-27 21:01:30
tags: 
- Javascript
- 深入理解ES6
excerpt: ES6对象的一些新增方法
categories: 
- 书本
---
## 深入理解es6第四章 对象
### 类别:
1. 普通对象 (Ordinary Object)
2. 特异对象 (Exotic Object)
3. 标准对象 (Standard Object)
4. 内建对象
*关系:标准可以是普通也可以是特异,标准都是内建(奸)*

---

### 对象语法扩展
1. 属性简写:对象属性与本地变量同名,不必再冒号加值.会自己找同名
2. 方法简写: 
```
sayName: function(){
    //旧语法
}
sayName(){
   //简写
}
```
3. 属性名可计算,属性名加空格,拼凑等操作.   ["fir" + suffix]= 'xxx';  //区别于点号引用属性

---

### 新增方法
1. Object.is(),用于补充===的功能
  +0与-0,NaN和NaN ,===会true,is()会false
2. Object.assign(),第一个参数是receiver,之后的不限个数,都是suppliers对象
`Object.assign(receiver,supplier1,supplier2,supplier3 ...)`
如果属性方法有同名,则取后面的,前面的被覆盖
assign,访问器属性变数据属性,名字作key,返回的作value,
插曲:之前的mixin是浅复制,不能复制访问器属性,值是对象只能复制引用
*重复属性取最后定义的*

#### 枚举自有属性
3. 方法:**=Object.getOwnProperties(obj)**
   顺序:数字>字符串>symbol>新加入
   数值键升序,**字符串按插入顺序**
#### 增强原型
1. Object.getPrototypeOf()
   Object.setPrototypeOf()    *后代的属性方法会实时改变*
2. 调用并改写原型上的方法
不使用新特性:
```
let friend = {
    getGreeting(){
        return Object.getPrototypeOf(this).getGreeting().call(this)+", hi";
    }
}
```

使用新特性: **必须使用简写的方式**
```
let friend = { 
    getGreeting(){
        return super.getGreeting()+",hi";
    }
}
```

### [[HomeObject]]判定一个函数是否为方法
super的值根据[[HomeObject]],调用Object.getPrototypeOf(),找原型上的同名函数,将this绑定并调用相应的方法
```
friend里面的super.getGreeting()
=== person.getGreeting.call(this)
```



